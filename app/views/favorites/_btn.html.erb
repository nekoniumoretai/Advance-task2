<!--いいね機能の非同期化の部分テンプレート-->

<% if book.favorited_by?(current_user) %>
  <%= link_to book_favorites_path(book), method: :delete, remote: true, data: {"turbolinks" => false} do %>
  <!--remote: true は非同期化通信を行うためのオプション-->

    <i class="fa-solid fa-heart" aria-hidden="true" style="color: red;"></i>
    ❤︎<%= book.favorites.count %>いいね
  <% end %>

<% else %>

  <%= link_to book_favorites_path(book), remote: true, data: {"turbolinks" => false} do %>
  <!--remote: true は非同期化通信を行うためのオプション-->

    <i class="fa-solid fa-heart" aria-hidden="true"></i>
   ♡<%= book.favorites.count %>いいね
  <% end %>
<% end %>